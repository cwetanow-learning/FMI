<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible"
        content="IE=edge">
  <meta name="viewport"
        content="width=device-width, initial-scale=1">
  <meta name="description"
        content="">
  <meta name="author"
        content="">

  <title>JSON Web Token</title>

  <link href="css/bootstrap.min.css"
        rel="stylesheet">

  <link href="css/styles.css"
        rel="stylesheet">

</head>

<body>

  <div class="container">

    <div class="row">

      <div class="col-md-3">
        <p class="lead">Навигация</p>
        <div class="list-group">
          <a href="#introduction"
             class="list-group-item active">Какво е JWT?</a>
          <a href="#structure"
             class="list-group-item">Структура</a>
          <a href="#usage"
             class="list-group-item">Как се използва?</a>
          <a href="#data-protection"
             class="list-group-item">Защита на данни</a>
          <a href="#verification"
             class="list-group-item">Верифициране на JWT</a>
        </div>
      </div>

      <div class="col-md-9">
        <div class="thumbnail"
             id="introduction">
          <div class="caption-full">
            <h3>
              Какво е JWT?
            </h3>

            <p>JSON Web Token (JWT) is a compact, URL-safe means of representing claims to be transferred between two parties.
              The claims in a JWT are encoded as a JSON object that is used as the payload of a JSON Web Signature (JWS)
              structure or as the plaintext of a JSON Web Encryption (JWE) structure, enabling the claims to be digitally
              signed or integrity protected with a Message Authentication Code (MAC) and/or encrypted.
            </p>

            <p>
              <strong> JWT работи с различни програмни езици:</strong> .NET, Python, Node.js, Java, PHP, Ruby, Go, JavaScript, и Haskell.
              Вижда се, че може да бъде използван в много различни сценарии.
            </p>

            <p>
              <strong> JWT е самостоятелен:</strong> Всичката нужна информация се съдържа в него. Това означава, че един JWT е способен
              да пренася основна информация за себе си, товар (обикновено информация за потребителя) и подпис.
            </p>

            <p>
              <strong> JWTs се предават по мрежата лесно:</strong> След като JWT е самостоятелен и всичката информация се съдържа
              в него, те могат лесно да се използват в HTTP header, когато се аутентикира API. Също така могат да се предават
              и през URL-а на страницата.
            </p>
          </div>
        </div>

        <div class="thumbnail"
             id="structure">
          <div class="caption-full">
            <h3>
              Структура
            </h3>

            <p>
              Всеки JSON Web Token съдържа три елемента:
              <ul class="list-unstyled">
                <li>
                  <a href="#structure-header">header</a>
                </li>
                <li>
                  <a href="#structure-payload">payload</a>
                </li>
                <li>
                  <a href="#structure-signature">signature</a>
                </li>
              </ul>
            </p>
            <div id="structure-header">
              <h4>
                Header
              </h4>

              <p>
                Съставен от 2 части:
                <ul>
                  <li>typ - показва типа, който обикновено е "JWT"</li>
                  <li>alg - алгоритъма, използван за хеширане</li>
                </ul>

                <pre>
  {
    "typ": "JWT",
    "alg": "HS256"
  }             </pre>
              </p>

            </div>
            <div id="structure-payload">
              <hr>
              <h4>
                Payload
              </h4>

              <p>
                The payload will carry the bulk of our JWT, also called the JWT Claims. This is where we will put the information that we
                want to transmit and other information about our token. </p>
              <p>There are multiple claims that we can provide. This includes registered claim names, public claim names, and
                private claim names.
              </p>

              <pre>
  {
    "iss": "scotch.io",
    "exp": 1300819380,
    "name": "Chris Sevilleja",
    "admin": true
  }</pre>
            </div>
            <div id="structure-signature">
              <hr>

              <h4>Signature</h4>

              <p>
                The third and final part of our JSON Web Token is going to be the signature. This signature is made up of a hash of the following
                components:
                <ul>
                  <li> the header</li>
                  <li>the payload</li>
                  <li>secret</li>
                </ul>

                This is how we get the third part of the JWT:

                <pre>var encodedString = base64UrlEncode(header) + "." + base64UrlEncode(payload);
                  
HMACSHA256(encodedString, 'secret'); </pre> The secret is the signature held by the server. This is the way that our server will be able to verify existing
                tokens and sign new ones.
              </p>
            </div>
            <hr>

            <div>
              <p>
                JSON Web Token се получава със следните стъпки:
                <ul>
                  <li>header елемента се кодира в base64</li>
                  <li>payload елемента се кодира в base 64</li>
                  <li>
                    Резултата от кодирането на header и payload елементите се слагат един до друг и се добавя '.' между тях. Полученият низ след
                    това бива хеширан със тайния ключ и така се получава signature елемента.
                  </li>
                  <li>
                    Самият JWT се получава при събиране на трите низа и добавяне на точки между тях.
                  </li>
                </ul>

                <img src="img/structure.png"
                     alt="structure"
                     id="image">
              </p>
            </div>
          </div>
        </div>

        <div class="thumbnail"
             id="usage">
          <div class="caption-full">
            <h3>
              Как се използва?
            </h3>

            <p>
              To show how and why JWT are actually used, we will use a simple 3 entity example (see the below diagram). The entities in
              this example are the user, the application server, and the authentication server. The authentication server
              will provide the JWT to the user. With the JWT, the user can then safely communicate with the application.
            </p>

            <img src="img/usage.png"
                 alt="structure"
                 id="image">
            <p>
              In this example, the user first signs into the authentication server using the authentication server’s login system (e.g.
              username and password, Facebook login, Google login, etc). The authentication server then creates the JWT and
              sends it to the user. When the user makes API calls to the application, the user passes the JWT along with
              the API call. In this setup, the application server would be configured to verify that the incoming JWT are
              created by the authentication server (the verification process will be explained in more detail later). So,
              when the user makes API calls with the attached JWT, the application can use the JWT to verify that the API
              call is coming from an authenticated user.
            </p>
          </div>
        </div>

        <div class="thumbnail"
             id="data-protection">
          <div class="caption-full">
            <h3>
              Защита на данни
            </h3>

            <p>
              It is important to understand that the purpose of using JWT is NOT to hide or obscure data in any way. The reason why JWT
              are used is to prove that the sent data was actually created by an authentic source.
            </p>
            <p>
              As demonstrated in the previous steps, the data inside a JWT is encoded and signed, not encrypted. The purpose of encoding
              data is to transform the data’s structure. Signing data allows the data receiver to verify the authenticity
              of the source of the data. So encoding and signing data does NOT secure the data. On the other hand, the main
              purpose of encryption is to secure the data and to prevent unauthorized access. For a more detailed explanation
              of the differences between encoding and encryption, and also for more information on how hashing works, see
              this article.
            </p>
            <h4>
              <strong>
                Since JWT are signed and encoded only, and since JWT are not encrypted, JWT do not guarantee any security for sensitive data.
              </strong>
            </h4>
          </div>
        </div>

        <div class="thumbnail"
             id="verification">
          <div class="caption-full">
            <h3>
              Верифициране на JWT
            </h3>

            <p>
              In our simple 3 entity example, we are using a JWT that is signed by the HS256 algorithm where only the authentication server
              and the application server know the secret key. The application server receives the secret key from the authentication
              server when the application sets up its authentication process. Since the application knows the secret key,
              when the user makes a JWT-attached API call to the application, the application can perform the same signature
              algorithm as in Step 3 on the JWT. The application can then verify that the signature obtained from it’s own
              hashing operation matches the signature on the JWT itself (i.e. it matches the JWT signature created by the
              authentication server). If the signatures match, then that means the JWT is valid which indicates that the
              API call is coming from an authentic source. Otherwise, if the signatures don’t match, then it means that the
              received JWT is invalid, which may be an indicator of a potential attack on the application. So by verifying
              the JWT, the application adds a layer of trust between itself and the user.
            </p>
          </div>
        </div>

      </div>
    </div>

    <div class="container">
      <hr>
      <footer>
        <div class="row">
          <div class="col-lg-12">
            <!-- <p>Иван Младенов, ф.н 61950, СИ</p> -->
          </div>
        </div>
      </footer>

    </div>
  </div>
  <script src="javascript/jquery.min.js"></script>

  <script src="javascript/bootstrap.min.js"></script>


</body>

</html>